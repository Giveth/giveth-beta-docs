(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{83:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return c})),a.d(t,"default",(function(){return l}));var n=a(3),i=a(7),o=(a(0),a(100)),r={id:"paid-gas-calculation",title:"Paid Gas Calculation"},s={unversionedId:"paid-gas-calculation",id:"paid-gas-calculation",isDocsHomePage:!1,title:"Paid Gas Calculation",description:"Giveth pays almost all the gas consumed on payment process in Mainnet network. Also, it provides reports on how much gas has been paid on every user, milestone and campaign in terms of amount of consumed Ether and price in USD. Below describes how these values are measured.",source:"@site/docs/doc5-paid-gas-calculation.md",slug:"/paid-gas-calculation",permalink:"/docs/paid-gas-calculation",editUrl:"https://github.com/giveth/giveth-beta-docs/edit/master/docs/doc5-paid-gas-calculation.md",version:"current",sidebar:"docsSidebar",previous:{title:"Linke Preview",permalink:"/docs/link-preview"},next:{title:"Style Guide",permalink:"/docs/styleguide"}},c=[],d={rightToc:c};function l(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},d,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Giveth")," pays almost all the gas consumed on payment process in ",Object(o.b)("inlineCode",{parentName:"p"},"Mainnet")," network. Also, it provides reports on how much gas has been paid on every user, milestone and campaign in terms of amount of consumed ",Object(o.b)("inlineCode",{parentName:"p"},"Ether")," and price in ",Object(o.b)("inlineCode",{parentName:"p"},"USD"),". Below describes how these values are measured."),Object(o.b)("p",null,"For every withdraw two ",Object(o.b)("inlineCode",{parentName:"p"},"Mainnet")," transactions are needed in order to move money to user wallet"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"When a user collects/disburses milestone money in a milestone, the ",Object(o.b)("inlineCode",{parentName:"li"},"withdraw")," method is called on milestone smart contract in foreign network (not ",Object(o.b)("inlineCode",{parentName:"li"},"Mainnet"),").By that action tokens will be burnt in the foreign network, and related events are emitted. A node app (",Object(o.b)("inlineCode",{parentName:"li"},"Bridge"),") watching for that kind of events and relays the payment to home network (",Object(o.b)("inlineCode",{parentName:"li"},"Mainnet"),"), by calling the ",Object(o.b)("inlineCode",{parentName:"li"},"authorizePayment")," method on ",Object(o.b)("inlineCode",{parentName:"li"},"GivethBridge")," smart contract with corresponding data. After that transaction is mined, the payment item(s) will be appeared in  ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"http://bridge.beta.giveth.io"}),"Bridge Monitor"),". The ",Object(o.b)("inlineCode",{parentName:"li"},"authorizePayment")," transactions can be created only by authorized key held by ",Object(o.b)("inlineCode",{parentName:"li"},"Bridge")," and every gas paid on these transactions are added to gas paid balance of corresponding ",Object(o.b)("inlineCode",{parentName:"li"},"Recipient Address"),", ",Object(o.b)("inlineCode",{parentName:"li"},"Milestone")," and ",Object(o.b)("inlineCode",{parentName:"li"},"Campaign"),". You can see a sample of ",Object(o.b)("inlineCode",{parentName:"li"},"authorizePayment")," transaction ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://etherscan.io/tx/0x1617485ca189d3c3dd7ca699a59a74d4016ee6c1460c2005d0d44f884fced118"}),"here"),".")),Object(o.b)("ol",{start:2},Object(o.b)("li",{parentName:"ol"},"Once the payment is approved, the receivers will be able to collect their funds from the ",Object(o.b)("inlineCode",{parentName:"li"},"GivethBridge")," contract. In this step anyone will be able to make the ",Object(o.b)("inlineCode",{parentName:"li"},"disburseAuthorizedPayments")," call to GivethBridge smart contract and pay the gas to transfer money from Giveth bridge account to milestone's recipient wallet. If no one does that, ",Object(o.b)("inlineCode",{parentName:"li"},"Giveth")," would do it periodically and may aggregate multiple payments in one transaction, like ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://etherscan.io/tx/0x210ce079b215444ccf3a93e93cfe12eccbab7389ff3e82909b50e5e9cf0481a1"}),"this transaction")," that ",Object(o.b)("inlineCode",{parentName:"li"},"Giveth")," had created and paid the gas (about ",Object(o.b)("inlineCode",{parentName:"li"},"113$"),"). there are seven payments aggregated (6 in DAI token and one in ETH), so we conclude the Giveth paid about ",Object(o.b)("inlineCode",{parentName:"li"},"16$")," per payment at this step. In gas paid history ",Object(o.b)("inlineCode",{parentName:"li"},"16$")," is added per corresponding recipients, milestones and campaigns is saved in the ",Object(o.b)("inlineCode",{parentName:"li"},"gasPaidUsdValue")," field. In this case one of recipients (0x00d18ca9782bE1CaEF611017c2Fbc1a39779A57C) has received two payments (0.02 ETH and 350 DAI) and is charged double.")),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"How do we know the Giveth paid gas for PaymentExecuted?")),Object(o.b)("p",null,"All the ",Object(o.b)("inlineCode",{parentName:"p"},"authorizedPayment")," transactions are made by Giveth and beneficiary recipient, milestone and campaign are charged."),Object(o.b)("p",null,"The logic is different for ",Object(o.b)("inlineCode",{parentName:"p"},"disburseAuthorizedPayments")," transactions. if the transaction sender is one of Giveth's accounts(",Object(o.b)("inlineCode",{parentName:"p"},"0xDAa172456F5815256831aeE19C8A370a83522871"),", ",Object(o.b)("inlineCode",{parentName:"p"},"0x839395e20bbB182fa440d08F850E6c7A8f6F0780"),")\nwe consider Giveth has paid the gas, otherwise we assume that user has paid it."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"How USD value of paid gas is determined?")),Object(o.b)("p",null,"The USD value of paid gas is the multiple of ",Object(o.b)("inlineCode",{parentName:"p"},"Ether amount paid as gas")," in ",Object(o.b)("inlineCode",{parentName:"p"},"Ethereum price at the transaction timestamp")))}l.isMDXComponent=!0}}]);